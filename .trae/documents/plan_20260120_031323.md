# Todo App Backend Cleanup and Improvement Plan

## Current Issues
1. **Duplicate Service Files**: Services exist in both `/src/services/` and `/src/core/services/` directories
2. **Incorrect Import Paths**: Some files have incorrect import paths for drivers
3. **Limited Team Member Data**: The team driver returns simplified member data with empty fields
4. **Inconsistent Directory Structure**: Mixed import paths in index.ts (drivers from /src/drivers/, services from /src/core/services/)

## Implementation Plan

### 1. Fix Directory Structure
- **Remove Duplicate Services**: Delete the duplicate service files in `/src/services/` since the application uses `/src/core/services/`
- **Update Driver Directory**: Move drivers from `/src/drivers/` to `/src/core/drivers/` for consistency
- **Update Import Paths**: Fix all import paths in the codebase to match the corrected structure

### 2. Improve Team Member Data
- **Enhance getTeamMembers Method**: Update the team driver to fetch actual user details from the auth.users table
- **Add User Fetching Logic**: Implement a method to fetch user details by ID
- **Join User Data**: Combine share data with user details in the getTeamMembers method

### 3. Fix Import Paths in index.ts
- **Update Driver Imports**: Change driver imports from `/src/drivers/` to `/src/core/drivers/`
- **Ensure Consistency**: Verify all import paths are consistent throughout the application

### 4. Verify Service Integration
- **Check Service-to-Driver Connections**: Ensure all services correctly import and use their corresponding drivers
- **Validate Handlers**: Verify handlers correctly use the core services

## Implementation Steps

1. **Delete Duplicate Services**: Remove `/src/services/` directory
2. **Move Drivers to Core**: Move drivers from `/src/drivers/` to `/src/core/drivers/`
3. **Fix index.ts Imports**: Update driver import paths in index.ts
4. **Enhance Team Driver**: Improve the getTeamMembers method to fetch actual user details
5. **Update Team Service**: Ensure the team service correctly uses the enhanced driver
6. **Fix Other Import Paths**: Check and fix any other incorrect import paths in the codebase
7. **Test Build**: Run `npm run build` to verify all TypeScript errors are resolved

## Expected Outcome
- Clean, consistent directory structure
- Accurate team member data with full user details
- All import paths correctly aligned
- Successful build with no TypeScript errors
- Ready for deployment to Cloudflare Workers