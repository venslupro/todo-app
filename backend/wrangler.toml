name = "todo-app-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# 日志配置
log_level = "info"

[build]
command = "npm run build"

[env.production]
name = "prod-todo-worker"
ENVIRONMENT = "production"
SUPABASE_URL = ""
SUPABASE_ANON_KEY = ""
SUPABASE_SERVICE_ROLE_KEY = ""
# 生产环境使用info级别日志，避免过多日志输出
log_level = "info"

[env.staging]
name = "stg-todo-worker"
ENVIRONMENT = "staging"
SUPABASE_URL = "https://evmxtjyinbjkuhrdphnq.supabase.co"
SUPABASE_ANON_KEY = "sb_publishable_c5Ij2y8T6qyzIgxL6aLiHA_TbW5DULk"
SUPABASE_SERVICE_ROLE_KEY = "sb_secret_PBvZmYoBQrowZeSYH7DrMA_nDcRkdjG"
# 测试环境使用debug级别日志，便于调试
log_level = "debug"

[env.development]
name = "dev-todo-worker"
ENVIRONMENT = "development"
SUPABASE_URL = ""
SUPABASE_ANON_KEY = ""
SUPABASE_SERVICE_ROLE_KEY = ""
# 开发环境使用debug级别日志，提供最详细的日志信息
log_level = "debug"